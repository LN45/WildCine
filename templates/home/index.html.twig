{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}

{% block body %}
    <div class="row">
        <div class="offset-11 col">
            <a href="/logout"><i class="fas fa-user-times mt-2"></i></a>
        </div>
    </div>
    <section class="et-hero-tabs backgroundHome">
        <h3 class="user_email">Bienvenue {{ user.email }}</h3>
        <h1 class="rubberBand">WILD CINE</h1>
        <div class="et-hero-tabs-container">
            <a class="et-hero-tab" href="#tab-new">Nouveautés</a>
            <a class="et-hero-tab" href="#tab-genre">Tous les films</a>
            <a class="et-hero-tab" href="#tab-critics">Les mieux notés</a>
            <a class="et-hero-tab" href="#tab-review">Par catégories</a>
            <a class="et-hero-tab" href="#tab-other">Autres</a>
            <a class="tab" href="/admin">Admin</a>
            <span class="et-hero-tab-slider"></span>
        </div>
    </section>

    <!-- Main -->
    <main class="et-main">
        <section id="tab-new">
            <div class="row justify-content-center">
                <h2>Nouveautés</h2>
            </div>
            <div class="row all_films">
                {% for movienew in moviesnew %}
                    <a href="{{ path('movie_show', {'id': movienew.id}) }}">
                        <div class="col-lg-2 col-md-3 col-xs-4 justify-content-center">
                            <div class="card mt-3 pt-2 pb-2 ml-3 mr-3 card_cover container_image">
                                <img class="cover_film mx-auto" src="{{movienew.image }}" alt="cover">
                                <div class="overlay">
                                    <h5 class="card-title mx-auto mt-2 title_movie">{{ movienew.title }}</h5>
                                </div>
                            </div>
                        </div>
                    </a>
                {% endfor %}
            </div>
        </section>
        <section id="tab-genre">
            <div class="row justify-content-center">
                <h2>Tous les films</h2>
            </div>
            <div class="row all_films">
                {% for movie in movies %}
                    <a href="{{ path('movie_show', {'id': movie.id}) }}">
                        <div class="col-lg-2 col-md-3 col-xs-4 justify-content-center">
                            <div class="card mt-3 pt-2 pb-2 ml-3 mr-3 card_cover container_image">
                                <img class="cover_film mx-auto" src="{{movie.image }}" alt="cover">
                                <div class="overlay">
                                    <h5 class="card-title mx-auto mt-2 title_movie">{{ movie.title }}</h5>
                                </div>
                            </div>
                        </div>
                    </a>
                {% endfor %}
            </div>
        </section>
        <section id="tab-critics">
            <div class="row justify-content-center">
                <h2>Les mieux notés</h2>
            </div>
            <div class="row all_films">
                {% for bestmovie in bestmovies %}
                    <a href="{{ path('movie_show', {'id': bestmovie.id}) }}">
                        <div class="col-lg-2 col-md-3 col-xs-4 justify-content-center">
                            <div class="card mt-3 pt-2 pb-2 ml-3 mr-3 card_cover container_image">
                                <img class="cover_film mx-auto" src="{{bestmovie.image }}" alt="cover">
                                <div class="overlay">
                                    <h5 class="card-title mx-auto mt-2 title_movie">{{ bestmovie.title }}</h5>
                                </div>
                            </div>
                        </div>
                    </a>
                {% endfor %}
            </div>
        </section>
        <section id="tab-review">
            <div class="row justify-content-center">
                <div class="col-12">
                    <h2 class="mt-5">Par catégories</h2>
                </div>
                <div class="col-3">
                    <label class="label_select" for="genre">Genre</label>
                    <select class="form-control" id="genre" name="genre">
                        {% for genre in genres %}
                            <option value="{{ genre.type }}">{{ genre.type }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-3">
                    <label class="label_select" for="actor">Acteurs</label>
                    <select class="form-control" id="actor">
                        {% for actor in actors %}
                            <option value="{{ actor.name }}{{ actor.firstname }}">{{ actor.name }} {{ actor.firstname }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </section>
        <section id="tab-other">
            <div class="row justify-content-center">
                <h2>Autres</h2>
            </div>
        </section>
    </main>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('style') }}
{% endblock %}
